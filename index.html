<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>GreenBite — Home</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="favicon.ico">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <header class="site-header">
        <div class="container nav">
            <div class="brand">GreenBite</div>
            <nav class="nav-links">
                <a href="index.html">Home</a>
                <a href="recipes.html">Recipes</a>
                <a href="calculator.html">Calculator</a>
                <a href="workouts.html">Workouts</a>
                <a href="mindfulness.html">Mindfulness</a>
                <a href="contact.html">Contact</a>
            </nav>
            <button class="hamburger btn">☰</button>
        </div>
    </header>

    <main class="container">
        <section class="hero">
            <div class="left card">
                <h2 id="rotating-slogan">Welcome to GreenBite</h2>
                <p id="tip-of-day" style="color:var(--muted)"></p>
                <div style="margin-top:12px">
                    <input id="newsletter-email" placeholder="Your email for weekly tips" class="input" />
                    <button id="subscribe-btn" class="btn">Subscribe</button>
                </div>
            </div>
            <div class="right card">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="recipes.html">Find a healthy recipe</a></li>
                    <li><a href="calculator.html">Calculator</a></li>
                    <li><a href="mindfulness.html">Breathing exercises</a></li>
                </ul>
            </div>
        </section>

        <section style="margin-top:18px">
            <div class="card">
                <h3>Featured tips</h3>
                <div id="tip-list" class="grid"></div>
            </div>
        </section>
    </main>

    <footer class="footer">© GreenBite • Ishra Ammon - CB011340 • </footer>

    <div id="modal" class="modal">
        <div class="modal-content"></div>
    </div>

    <script src="js/common.js"></script>
    <script>
        const slogans = [
            "Eat healthy meals, fuel your day!",
            "Small steps, big changes.",
            "Hydrate first. Think later.",
            "Move a little every hour.",
            "No Pain, No Gain"
        ];
        let idx = 0;

        function rotate() {
            document.getElementById('rotating-slogan').innerText = slogans[idx++ % slogans.length];
        }
        rotate();
        setInterval(rotate, 3500);


        const tips = [
            "Try a 10-minute walk after lunch.",
            "Add one extra vegetable to dinner.",
            "Start the day with a glass of water.",
            "Prep a healthy snack for the afternoon."
        ];

        const tipOfDay = tips[(new Date()).getDate() % tips.length];
        document.getElementById('tip-of-day').innerText = "Tip of the day: " + tipOfDay;

        document.getElementById('subscribe-btn').addEventListener('click', () => {
            const email = document.getElementById('newsletter-email').value.trim();
            if (!email || !email.includes('@')) return showMessage('Enter a valid email');
            const list = localStorage.getItem('greenbite_emails') ? JSON.parse(localStorage.getItem('greenbite_emails')) : [];
            list.push({
                email,
                date: new Date().toISOString()
            });
            localStorage.setItem('greenbite_emails', JSON.stringify(list));
            showMessage('Subscribed! Saved locally.');
            document.getElementById('newsletter-email').value = '';
        });


        const tipListEl = document.getElementById('tip-list');
        ['Try portion control', 'Swap fries for salad', 'Replace soda with water', 'Try a new fruit'].forEach(t => {
            let d = document.createElement('div');
            d.className = 'card';
            d.innerHTML = `<strong>${t}</strong><p style="color:var(--muted)">A tiny change you can do today.</p>`;
            tipListEl.appendChild(d);
        });
    </script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(() => console.warn('SW register failed'));
        }
    </script>

</body>

</html>