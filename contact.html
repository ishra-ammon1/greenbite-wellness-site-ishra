<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Contact</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <header class="site-header">
        <div class="container nav">
            <div class="brand">GreenBite</div>
            <nav class="nav-links">
                <a href="index.html">Home</a><a href="contact.html">Contact</a>
            </nav><button class="hamburger btn">â˜°</button></div>
    </header>

    <main class="container">
        <section class="card">
            <h2>Contact & Feedback</h2>
            <div class="form-row">
                <input id="name" class="input" placeholder="Your name">
                <input id="email" class="input" placeholder="Your email">
            </div>
            <textarea id="message" rows="5" placeholder="Message" class="input" style="width:100%;margin-top:8px"></textarea>
            <div style="margin-top:8px"><button id="send" class="btn">Send</button></div>
            <div id="confirm" style="margin-top:10px;color:green"></div>
        </section>

        <section class="card" style="margin-top:12px">
            <h3>GreenBite HQ</h3>

            <iframe src="https://www.google.com/maps?q=Colombo&output=embed" style="width:100%;height:200px;border:0"></iframe>
        </section>

        <section class="card" style="margin-top:12px">
            <h3>FAQ</h3>
            <div>
                <button class="faq-btn btn">What is GreenBite?</button>
                <div class="faq-answer" style="display:none;padding:8px">GreenBite is a small wellness demo site for this assignment.</div>

                <button class="faq-btn btn">How to contribute?</button>
                <div class="faq-answer" style="display:none;padding:8px">You can submit feedback via the contact form (stored locally).</div>
            </div>
        </section>
    </main>

    <script src="js/common.js"></script>
    <script>
        document.getElementById('send').addEventListener('click', () => {
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const message = document.getElementById('message').value.trim();
            if (!name) return showMessage('Please enter name');
            if (!email || !email.includes('@')) return showMessage('Please enter a valid email');
            if (!message) return showMessage('Please write a message');

            const list = LS.get('feedbacks', []) || [];
            list.push({
                name,
                email,
                message,
                date: new Date().toISOString()
            });
            LS.set('feedbacks', list);
            document.getElementById('confirm').innerText = 'Thanks! Your feedback is saved locally.';

            document.getElementById('name').value = '';
            document.getElementById('email').value = '';
            document.getElementById('message').value = '';
        });


        document.querySelectorAll('.faq-btn').forEach((b, i) => {
            b.addEventListener('click', () => {
                const a = b.nextElementSibling;
                a.style.display = (a.style.display === 'none' || a.style.display === '') ? 'block' : 'none';
            });
        });
    </script>
</body>

</html>